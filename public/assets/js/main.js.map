{"version":3,"sources":["main.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.js","sourcesContent":["\"use strict\";\n\nlet users = [];\n\nconst listUsers = document.querySelector(\".js-users\");\nconst saveDatabtn = document.querySelector(\".js-saveData\");\nconst loadDatabtn = document.querySelector(\".js-loadData\");\n\nfunction getData() {\n  fetch(\"https://randomuser.me/api/?results=10\")\n    .then((response) => response.json())\n    .then(function (data) {\n      saveUsers(data);\n      paintUsers(users);\n      showBtn();\n      handleBtns();\n    })\n    .catch(showError);\n  function showError() {\n    alert(\"Datos no disponibles\");\n    listUsers.innerHTML = `<button class=\"reload\" onclick=location.reload()>Recargar</button>`;\n  }\n  function handleBtns() {\n    saveDatabtn.addEventListener(\"click\", saveFriends);\n    loadDatabtn.addEventListener(\"click\", loadFriends);\n\n    function saveFriends() {\n      localStorage.setItem(\"people\", JSON.stringify(users));\n    }\n\n    function loadFriends() {\n      listUsers.innerHTML = \"\";\n      let saveUsers = JSON.parse(localStorage.getItem(\"people\"));\n      paintUsers(saveUsers);\n    }\n  }\n\n  function saveUsers(data) {\n    const datos = data.results;\n    for (const dato of datos) {\n      let user = {\n        name: dato.name.first,\n        last: dato.name.last,\n        city: dato.location.city,\n        picture: dato.picture.medium,\n        username: dato.login.username,\n        isFriend: false,\n      };\n      users.push(user);\n    }\n  }\n}\n\nfunction showBtn() {\n  saveDatabtn.style.display = \"initial\";\n  loadDatabtn.style.display = \"initial\";\n}\n\nfunction paintUsers(users) {\n  for (let cont = 0; cont < users.length; cont++) {\n    const isFriend = users[cont].isFriend;\n    listUsers.innerHTML += `<div class=\"user\" style=background-color:${isFriend ? \"pink\" : \"lightblue\"\n      } id=user${cont} onclick=makeFriend(${cont})><img class=\"photos\" src=${users[cont].picture\n      }><br><b>${users[cont].name} ${users[cont].last}</b><br>${users[cont].city\n      }<br>${users[cont].username}<br></div>`;\n  }\n}\n\nfunction makeFriend(requestedUser) {\n  //selecci√≥n no amigos/amigos\n  if (users[requestedUser].isFriend === false) {\n    users[requestedUser].isFriend = true;\n    //cambio de fondo\n    let userFriend = document.querySelector(\"#user\" + requestedUser);\n    userFriend.style.background = \"pink\";\n  } else {\n    alert(\"ya es tu amigo\");\n  }\n}"]}