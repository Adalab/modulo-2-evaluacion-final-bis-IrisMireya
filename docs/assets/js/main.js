"use strict";let users=[];const listUsers=document.querySelector(".js-users"),saveDatabtn=document.querySelector(".js-saveData"),loadDatabtn=document.querySelector(".js-loadData");function getData(){fetch("https://randomuser.me/api/?results=10").then(e=>e.json()).then((function(e){!function(e){const t=e.results;for(const e of t){let t={name:e.name.first,last:e.name.last,city:e.location.city,picture:e.picture.medium,username:e.login.username,isFriend:!1};users.push(t)}}(e),paintUsers(users),showBtn(),saveDatabtn.addEventListener("click",(function(){localStorage.setItem("people",JSON.stringify(users))})),loadDatabtn.addEventListener("click",(function(){listUsers.innerHTML="",paintUsers(JSON.parse(localStorage.getItem("people")))}))})).catch((function(){alert("Datos no disponibles"),listUsers.innerHTML='<button class="reload" onclick=location.reload()>Recargar</button>'}))}function showBtn(){saveDatabtn.style.display="initial",loadDatabtn.style.display="initial"}function paintUsers(e){for(let t=0;t<e.length;t++){const s=e[t].isFriend;listUsers.innerHTML+=`<div class="user" style=background-color:${s?"pink":"lightblue"} id=user${t} onclick=makeFriend(${t})><img class="photos" src=${e[t].picture}><br><b>${e[t].name} ${e[t].last}</b><br>${e[t].city}<br>${e[t].username}<br></div>`}}function makeFriend(e){if(!1===users[e].isFriend){users[e].isFriend=!0,document.querySelector("#user"+e).style.background="pink"}else alert("ya es tu amigo")}