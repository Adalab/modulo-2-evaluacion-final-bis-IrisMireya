"use strict";const text=document.querySelector(".js-text"),searchBtn=document.querySelector(".js-searchbutton"),btnReset=document.querySelector(".js-reset"),urlServer="https://www.thecocktaildb.com/api/json/v1/1/search.php?s=",drinkList=document.querySelector(".js-list"),favList=document.querySelector(".js-fav");let favouritesDrinks=window.localStorage.getItem("drinks")?JSON.parse(window.localStorage.getItem("drinks")):[];searchBtn.addEventListener("click",e=>{e.preventDefault(),fetch(urlServer+text.value).then(e=>e.json()).then(e=>{let t="";for(const r of e.drinks)t+=`<li class ="drinks js-drinks" id=${r.idDrink}>`,t+=`<div><div>${r.strDrink}</div>`,r.strDrinkThumb?t+=`<img src="${r.strDrinkThumb}" width="80px"/>`:t+='<img src="https://via.placeholder.com/210x295/ffffff/666666/?text=drink" width="80px"/>',t+="</div></li>";drinkList.innerHTML=t;const r=document.querySelectorAll(".js-drinks");for(const t of r)t.addEventListener("click",t=>{const r=t.currentTarget;r.className+=" favourite ";const s=e.drinks.find(e=>{if(e.idDrink===r.id)return e});favouritesDrinks.push(s),localStorage.setItem("drinks",JSON.stringify(favouritesDrinks));const i=`<li class ="fav js-fav" id=${s.strDrink}><div><div><button class="delete__button js-delete">\n          <img src="./assets/images/cancel.png">\n        </button>  ${s.strDrink}<br><img src="${s.strDrinkThumb}" width="80px"/></div></li>`;favList.innerHTML+=i;document.querySelector(".js-delete").addEventListener("click",e=>{})})}).catch((function(e){e&&alert("Â¡No hay lo que tu pides mami!")}))}),btnReset.addEventListener("click",e=>{e.preventDefault(),favouritesDrinks.length>0&&(favList.innerHTML="",favouritesDrinks=[],localStorage.removeItem("drinks"))});